# Project Flowcharts\n\nThis document contains flowcharts visualizing the main processes of the Scourtero application, generated using [Mermaid syntax](https://mermaid.js.org/).\n\nTo view these flowcharts rendered as diagrams, you will need a Markdown viewer that supports Mermaid (e.g., GitHub, GitLab, VS Code extensions, or online Mermaid editors).\n\n---\n\n## 1. Product Search Flow\n\n```mermaid\ngraph TD\n    A[User opens application/Search Page]\n    B{User enters search query \n or uploads image?}\n    C[Get search query from input field]\n    D[Get image file from upload input]\n    E{Is image uploaded?}\n    F[Prepare FormData with image]\n    G[Prepare search query parameters]\n    H[Show Loading Spinner]\n    I[Send POST request to /search-by-image with FormData]\n    J[Send GET request to /search with query params]\n    K{HTTP Response OK?}\n    L[Process JSON response (product data)]\n    M{Data is valid \n array?}\n    N[Filter out invalid product items]\n    O{Any valid products found?}\n    P[Sort relevant products by relevance then price]\n    Q[Display products on webpage \n (Generate & Append HTML)]\n    R[Clear search state (input, file name)]\n    S[Log "No valid products found after filtering"]\n    T[Log "No products found from the server"]\n    U[Show "No products found matching query" message]\n    V[Show "No products found from server" message]\n    W[Log request failure & retry count]\n    X{Retry Count \n < Max Retries?}\n    Y[Wait before retrying (Exponential Backoff)]\n    Z[Log final error & Show Error Message with Retry]\n    AA[End Search Flow]\n\n    A --> B\n    B -->|Yes| D\n    B -->|No| C\n    D --> E\n    C --> E\n\n    E -->|Yes| F\n    E -->|No| G\n    F --> H\n    G --> H\n\n    H --> I\n    H --> J\n    I --> K\n    J --> K\n\n    K -->|Yes| L\n    K -->|No| W\n\n    L --> M\n    M -->|Yes| N\n    M -->|No| S\n\n    N --> O\n    O -->|Yes| P\n    O -->|No| U\n\n    P --> Q\n    Q --> R\n    R --> AA\n\n    S --> AA\n    T --> AA\n    U --> AA\n    V --> AA\n    Z --> AA\n\n    % Error and Retry Paths\n    W --> X\n    X -->|Yes| Y\n    Y --> I % Retry request
    X -->|No| Z\n\n    % Paths for No Data/Products\n    S --> U\n    U --> T % Fallback message if no products match filter\n\n```\n\n---\n\n## 2. Wishlist Management Flow\n\n```mermaid\ngraph TD\n    A[User opens Wishlist Page]\n    B[Show Loading Spinner (Wishlist)]\n    C[Get User ID from Local Storage]\n    D[Send GET request to /wishlist \n with User ID & Sort Params]\n    E{HTTP Response OK?}\n    F[Process JSON response (wishlist items)]\n    G{Data is valid \n array?}\n    H{Wishlist items \n found?}\n    I[Display Wishlist Items \n (Generate & Append HTML)]\n    J{User clicks Remove Button?}\n    K[Confirm Removal (Optional notification)]\n    L[Send DELETE request to /wishlist/remove \n with User ID & Product ID]\n    M{HTTP Response OK?}\n    N[Show "Removed" notification]\n    O[Re-fetch and Display Wishlist]\n    P[Show "Empty Wishlist" message]\n    Q[Log request failure]\n    R[Show Error Message with Retry]\n    S[Log final error & Show Error Message with Retry]\n    T[End Wishlist Flow]\n    U{Price Change Detected \n (Interval Check)?}\n    V[Check Price Changes (Background Fetch)]\n    W[Show Price Change Notification]\n\n    A --> B\n    B --> C\n    C --> D\n\n    D --> E\n    E -->|Yes| F\n    E -->|No| Q\n\n    F --> G\n    G -->|Yes| H\n    G -->|No| R\n\n    H -->|Yes| I\n    H -->|No| P\n\n    I --> J\n    J --> K\n    K --> L\n    L --> M\n\n    M -->|Yes| N\n    M -->|No| Q\n    N --> O\n    O --> I\n\n    P --> T\n    Q --> R\n    R --> S\n    S --> T\n    I --> T\n\n    % Background Price Check Flow\n    V --> E\n    F --> W\n    W --> I % Update display with potentially new prices\n    W --> V % Continue interval
    T --> V % Flow ends, but price check continues

    % Initial Load triggers price check\n    A --> V\n\n```\n 